<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Calculator</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}
			body {
				height: 100vh;
				display: flex;
				align-items: center;
				justify-content: center;
				background-color: cadetblue;
			}
			.calculator {
				width: 200px;
				background-color: grey;
				padding: 10px;
			}
			#result {
				/* width: 90%; */
				height: 30px;
				display: flex;
				align-items: center;
				justify-content: flex-end;
				background-color: #fff;
				padding: 5px;
			}
			.buttons {
				margin-top: 20px;
			}
			.buttons button {
				min-width: 23.3%;
				margin-bottom: 5px;
				outline: none;
				border: 1px solid;
				border-radius: 5px;
				background-color: #fff;
			}
			.buttons button:hover {
				cursor: pointer;
				background-color: yellow;
			}
			.isChoosen {
				background-color: yellow !important;
			}
		</style>
	</head>
	<body>
		<div class="calculator">
			<div id="result">0</div>
			<div class="buttons">
				<button onclick="removeAll()">AC</button>
				<button onclick="addPositiveOrNegative()">+/</button>
				<button class="button" onclick="addSymbol(this)">%</button>
				<button class="button" onclick="addSymbol(this)">/</button>
				<button onclick="addSymbol(7)">7</button>
				<button onclick="addSymbol(8)">8</button>
				<button onclick="addSymbol(9)">9</button>
				<button class="button" onclick="addSymbol(this)">x</button>
				<button onclick="addSymbol(4)">4</button>
				<button onclick="addSymbol(5)">5</button>
				<button onclick="addSymbol(6)">6</button>
				<button class="button" onclick="addSymbol(this)">-</button>
				<button onclick="addSymbol(1)">1</button>
				<button onclick="addSymbol(2)">2</button>
				<button onclick="addSymbol(3)">3</button>
				<button class="button" onclick="addSymbol(this)">+</button>
				<button onclick="addSymbol(0)" style="min-width: 48.8%">0</button>
				<button onclick="addSymbol('.')">,</button>
				<button onclick="calculateResult()">=</button>
			</div>
		</div>
	</body>
</html>
<script>
	const resultDiv = document.getElementById("result");
	const buttons = document.querySelectorAll(".button");
	let checkEqualClicked = false;

	function removeAll() {
		resultDiv.innerHTML = "0";
	}
	function addSymbol(value) {
		if (isNaN(value)) {
			if (value === ".") {
				if (!isNaN(resultDiv.innerHTML[resultDiv.innerHTML.length - 1])) {
					resultDiv.innerHTML += value;
				}
			} else {
				buttons.forEach(function (button) {
					button.classList.remove("isChoosen");
				});
				value.classList.add("isChoosen");

				const operator = value.innerHTML;
				if (
					["+", "-", "x", "/", "%"].includes(
						resultDiv.innerHTML[resultDiv.innerHTML.length - 1]
					)
				) {
					resultDiv.innerHTML = resultDiv.innerHTML.slice(0, -1) + operator;
				} else {
					resultDiv.innerHTML += operator;
				}
			}
		} else {
			if (resultDiv.innerHTML === "0" || checkEqualClicked) {
				resultDiv.innerHTML = "";
			}
			resultDiv.innerHTML += value;
		}
		checkEqualClicked = false;
	}

	function calculateResult() {
		resultDiv.innerHTML = resultDiv.innerHTML.replace(/x/g, "*");
		resultDiv.innerHTML = eval(resultDiv.innerHTML);

		buttons.forEach(function (button) {
			button.classList.remove("isChoosen");
		});
		checkEqualClicked = true;
	}
</script>
